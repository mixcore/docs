<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Blazor layouts · Mixcore CMS docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# Blazor layouts"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Blazor layouts · Mixcore CMS docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://mixcore.org/"/><meta property="og:description" content="# Blazor layouts"/><meta property="og:image" content="https://mixcore.org/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://mixcore.org/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/mixcore-25pt-square-white.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-134185413-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/mixcore-logo-white-25px.svg" alt="Mixcore CMS docs"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://mixcore.org" target="_self">Homepage</a></li><li class=""><a href="https://medium.com/mixcore" target="_self">Blog</a></li><li class=""><a href="/docs/introduction" target="_self">Docs</a></li><li class=""><a href="/help" target="_self">Help</a></li><li class=""><a href="https://github.com/mixcore/mix.core/releases" target="_self">Download</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/mixcore/docs/tree/master/docs/layouts.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Blazor layouts</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="blazor-layouts"></a><a href="#blazor-layouts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Blazor layouts</h1>
<p>By <a href="https://www.timecockpit.com">Rainer Stropek</a></p>
<p>[!INCLUDE<a href="~/includes/blazor-preview-notice.md"></a>]</p>
<p>Blazor apps typically contain more than one page. Layout elements, such as menus, copyright messages, and logos, must be present on all pages. Copying the code of these layout elements into all of the pages of an app isn't an efficient solution. Such duplication is hard to maintain and probably leads to inconsistent content over time. <em>Layouts</em> solve this problem.</p>
<h2><a class="anchor" aria-hidden="true" id="what-are-layouts"></a><a href="#what-are-layouts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What are layouts?</h2>
<p>Technically, a layout is just another Blazor component. A layout is defined in a Razor template or in C# code and can contain data binding, dependency injection, and other ordinary features of components. Two additional aspects turn a <em>component</em> into a <em>layout</em>:</p>
<ul>
<li>The layout component must inherit from <a href="/api/Microsoft.AspNetCore.Blazor.Layouts.BlazorLayoutComponent.html">BlazorLayoutComponent</a>. <code>BlazorLayoutComponent</code> defines a <code>Body</code> property that contains the content to be rendered inside the layout.</li>
<li>The layout component uses the <code>Body</code> property to specify where the body content should be rendered using the Razor syntax <code>@Body</code>. During rendering, <code>@Body</code> is replaced by the content of the layout.</li>
</ul>
<p>The following code sample shows the Razor template of a layout component. Note the use of <code>BlazorLayoutComponent</code> and <code>@Body</code>:</p>
<pre><code class="hljs css language-csharp">@inherits BlazorLayoutComponent

&lt;header&gt;
    &lt;h1&gt;ERP Master <span class="hljs-number">3000</span>&lt;/h1&gt;
&lt;/header&gt;

&lt;nav&gt;
    &lt;a href=<span class="hljs-string">"/master-data"</span>&gt;Master Data Management&lt;/a&gt;
    &lt;a href=<span class="hljs-string">"/invoicing"</span>&gt;Invoicing&lt;/a&gt;
    &lt;a href=<span class="hljs-string">"/accounting"</span>&gt;Accounting&lt;/a&gt;
&lt;/nav&gt;

@Body

&lt;footer&gt;
    &amp;copy; <span class="hljs-keyword">by</span> @CopyrightMessage
&lt;/footer&gt;

@functions {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> CopyrightMessage { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    ...
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="use-a-layout-in-a-component"></a><a href="#use-a-layout-in-a-component" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use a layout in a component</h2>
<p>Use the Razor directive <code>@layout</code> to apply a layout to a component. The compiler converts this directive into a <a href="/api/Microsoft.AspNetCore.Blazor.Layouts.LayoutAttribute.html">LayoutAttribute</a>, which is applied to the component class.</p>
<p>The following code sample demonstrates the concept. The content of this component is inserted into the <em>MasterLayout</em> at the position of <code>@Body</code>:</p>
<pre><code class="hljs css language-csharp">@layout MasterLayout

@page <span class="hljs-string">"/master-data"</span>

&lt;h2&gt;Master Data Management&lt;/h2&gt;
...
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="centralized-layout-selection"></a><a href="#centralized-layout-selection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Centralized layout selection</h2>
<p>Every folder of a Blazor app can optionally contain a template file named <em>_ViewImports.cshtml</em>. The compiler includes the directives specified in the view imports file in all of the Razor templates in the same folder and recursively in all of its subfolders. Therefore, a <em>_ViewImports.cshtml</em> file containing <code>@layout MainLayout</code> ensures that all of the components in a folder use the <em>MainLayout</em> layout. There's no need to repeatedly add <code>@layout</code> to all of the <em>*.cshtml</em> files.</p>
<p>Note that the default template for Blazor apps uses the <em>_ViewImports.cshtml</em> mechanism for layout selection. A newly created app contains the <em>_ViewImports.cshtml</em> file in the <em>Pages</em> folder.</p>
<h2><a class="anchor" aria-hidden="true" id="nested-layouts"></a><a href="#nested-layouts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nested layouts</h2>
<p>Blazor apps can consist of nested layouts. A component can reference a layout which in turn references another layout. For example, nesting layouts can be used to reflect a multi-level menu structure.</p>
<p>The following code samples show how to use nested layouts. The <em>CustomersComponent.cshtml</em> file is the component to display. Note that the component references the layout <code>MasterDataLayout</code>.</p>
<p><em>CustomersComponent.cshtml</em>:</p>
<pre><code class="hljs css language-csharp">@layout MasterDataLayout

@page <span class="hljs-string">"/master-data/customers"</span>

&lt;h1&gt;Customer Maintenance&lt;/h1&gt;
...
</code></pre>
<p>The <em>MasterDataLayout.cshtml</em> file provides the <code>MasterDataLayout</code>. The layout references another layout, <code>MainLayout</code>, where it's going to be embedded.</p>
<p><em>MasterDataLayout.cshtml</em>:</p>
<pre><code class="hljs css language-csharp">@layout MainLayout
@inherits BlazorLayoutComponent

&lt;nav&gt;
    &lt;!-- Menu structure of master data module --&gt;
    ...
&lt;/nav&gt;

@Body
</code></pre>
<p>Finally, <code>MainLayout</code> contains the top-level layout elements, such as the header, footer, and main menu.</p>
<p><em>MainLayout.cshtml</em>:</p>
<pre><code class="hljs css language-csharp">@inherits BlazorLayoutComponent

&lt;header&gt;...&lt;/header&gt;
&lt;nav&gt;...&lt;/nav&gt;

@Body
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 10/28/2018 by Huy Nguyen</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#what-are-layouts">What are layouts?</a></li><li><a href="#use-a-layout-in-a-component">Use a layout in a component</a></li><li><a href="#centralized-layout-selection">Centralized layout selection</a></li><li><a href="#nested-layouts">Nested layouts</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"></section><a href="https://mixcore.org" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/mixcore-logo-white-25px.svg" alt="Mixcore Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 mixcore</section></footer></div></body></html>